# 인덱스를 통한 검색 결과

---

## 1. 인덱스란?

- **인덱스(index)** 는 데이터베이스에서  
  **데이터 검색 속도를 빠르게 해주는 자료구조**  
- 책의 목차(색인)처럼,  
  **원하는 데이터를 바로 찾을 수 있게 해줌**
- 자주 검색하는 컬럼(특히, PK/UNIQUE KEY)에 자주 생성됨

---

## 2. PK(기본키)와 인덱스

- 테이블에서 **기본키(PK)** 는 자동으로 인덱스가 생성됨
- 예시 테이블:  
  `tbl_user(uid, nickname)`
    - uid: PK(Primary Key) → 자동 인덱스

---

## 3. 인덱스를 통한 검색이란?

- **PK(인덱스)로 WHERE 조건을 걸면**  
  → DB가 전체 테이블을 스캔하지 않고  
  → **인덱스 트리(보통 B+Tree)** 를 따라  
  → 바로 해당 값을 빠르게 찾음

---

## 4. Single Row Query (단일행 검색)과 인덱스

```java
String sql = "SELECT uid, nickname FROM tbl_user WHERE uid = ?";
// PK(기본키) = ?  → 인덱스 사용
```

- **WHERE uid = ?**  
  → uid가 PK이므로 인덱스를 통해  
    "uid 값이 ?인 한 행"을 빠르게 조회  
- 결과는 **무조건 0 또는 1개(Row)만 반환**  
  (PK는 중복 불가이기 때문)

---

## 5. 실무에서의 효과

- **속도:**  
  - 인덱스가 없으면 테이블 전체를 순회(Full Scan)  
  - 인덱스가 있으면 “로그(n)” 시간만에 바로 탐색
- **정확성:**   
  - PK 검색이므로 **무조건 1행만 조회** (없으면 0행)
- **안정성:**   
  - 데이터 무결성(중복X), 결과 예측 가능

---

## 6. 코드 흐름 예시

```java
// 1. 쿼리 준비
String sql = "SELECT uid, nickname FROM tbl_user WHERE uid = ?";

// 2. PreparedStatement 생성, ? 바인딩
// 3. 쿼리 실행 → 인덱스를 따라 uid=값 인 row만 바로 검색
// 4. 결과 ResultSet에서 단일 행만 읽음
```
> 이런 패턴을 **Single Row Query**,  
> 또는 **PK 인덱스 탐색**이라고 부름

---

## 7. 참고: 여러 행(multiple row) 검색 시

- PK가 아닌 일반 컬럼, 또는 중복 가능한 조건(where age=20 등)을 쓰면  
  인덱스가 없어 Full Scan 발생할 수도 있음  
- 여러 행 결과가 필요한 경우는 “multiple row query”라고 함

---

## 8. 결론/요약

- **PK(인덱스) 조건(where pk=?) 검색**  
  → 무조건 빠르고 단일행  
  → 실무에서 데이터 무결성과 성능 모두 중요  
- 인덱스 활용이 잘 된 설계는  
  “빠른 단일 row 검색, 정확한 결과, 안정성”을 제공

---
